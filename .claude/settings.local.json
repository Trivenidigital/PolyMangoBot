{
  "permissions": {
    "allow": [
      "Bash(python main_v2.py:*)",
      "Bash(python:*)",
      "Bash(ls:*)",
      "Bash(pip install:*)",
      "Bash(C:projectspolymangobotvenvScriptspip install websockets)",
      "Bash(venvScriptspip install websockets aiohttp python-dotenv)",
      "Bash(./venv/Scripts/pip install:*)",
      "Bash(./venv/Scripts/python:*)",
      "Bash(dir:*)",
      "Bash(git add:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nAdd Market Maker Exploitation Strategies module\n\nImplements three advanced MM exploitation strategies:\n\n1. Inventory-Based Fading \\(InventoryFadingStrategy\\)\n   - Estimates MM inventory from order flow\n   - Detects extreme inventory positions via z-scores\n   - Generates fade signals with entry/target/stop prices\n   - Tracks reversion outcomes for calibration\n\n2. Spread Regime Detection \\(SpreadRegimeDetector\\)\n   - Classifies spread into regimes \\(tight/normal/wide/extreme\\)\n   - Predicts regime transitions with probability estimates\n   - Provides optimal entry timing signals\n   - Tracks historical regime statistics\n\n3. Quote Stuffing Detection \\(QuoteStuffingDetector\\)\n   - Detects layering, spoofing, flickering, momentum ignition\n   - Tracks quote rates, cancel rates, quote-to-trade ratios\n   - Identifies affected price levels and fake liquidity\n   - Provides trading recommendations \\(pause/reduce/continue\\)\n\nIncludes integrated MMExploitationEngine that combines all strategies\nfor unified trading decisions with confidence scores.\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nIntegrate MM Exploitation Strategies with main trading loop\n\nIntegration changes:\n- Added MMExploitationEngine import and initialization\n- Added mm_exploitation attribute to PolyMangoBotV4 class\n\nTrading iteration enhancements:\n- Step 1.5: Update MM exploitation engine with market data\n- Automatic quote stuffing detection with trading pause\n- Step 4.5: Apply MM signals to filter/enhance opportunities\n\nNew helper methods:\n- _update_mm_exploitation\\(\\): Updates engine with market data,\n  detects quote stuffing, logs fade signals and spread regimes\n- _apply_mm_signals\\(\\): Filters opportunities based on MM analysis,\n  adjusts sizes based on inventory fade signals and spread regime\n\nPosition sizing integration:\n- MM boost factor applied to win probability when signals align\n- MM size multiplier applied to final position sizes\n- Logging of MM-adjusted position sizes\n\nStatus and reporting:\n- MM exploitation stats added to get_status\\(\\) endpoint\n- MM tracker profiles included in status\n- MM exploitation summary in shutdown report\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nAdd Capital Efficiency and Compounding Strategy Manager\n\nImplements comprehensive capital management for optimal growth:\n\n1. Capital Allocation Framework \\(CapitalAllocationFramework\\):\n   - Multi-strategy capital allocation with 5 strategies:\n     EQUAL_WEIGHT, RISK_PARITY, KELLY_OPTIMAL, PERFORMANCE_WEIGHTED, MOMENTUM\n   - Reserve capital management \\(default 10%\\)\n   - Dynamic rebalancing based on drift threshold\n   - Strategy registration and performance tracking\n\n2. Compounding Rules Engine \\(CompoundingEngine\\):\n   - 5 compounding modes: FULL_REINVEST, PARTIAL_REINVEST,\n     MILESTONE_WITHDRAW, TARGET_GROWTH, HYBRID\n   - Milestone-based profit taking \\(every 25% growth\\)\n   - CAGR and effective compound rate calculation\n   - Optimal reinvestment rate recommendation\n   - Growth projection over time periods\n\n3. Performance-Based Sizing \\(PerformanceBasedSizer\\):\n   - 5-tier system: ELITE, ADVANCED, STANDARD, PROBATION, RESTRICTED\n   - Tier score calculation from metrics \\(Sharpe, win rate, drawdown, etc.\\)\n   - Tier-based position multipliers \\(0.3x to 1.5x\\)\n   - Tier-based max position limits \\(2% to 15%\\)\n   - Automatic tier promotion/demotion based on performance\n\n4. Integrated CapitalEfficiencyManager:\n   - Unified interface combining all components\n   - Trade recording across all systems\n   - Position recommendation with tier adjustments\n   - Comprehensive capital statistics\n\nIntegration with main_v4.py:\n- Added CapitalEfficiencyManager initialization\n- Position sizing now applies tier multipliers\n- Trade outcomes recorded to capital manager\n- Shutdown report includes capital efficiency summary\n- Status endpoint includes capital stats\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")"
    ]
  }
}
